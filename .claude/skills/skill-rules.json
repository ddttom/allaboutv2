{
    "version": "1.0",
    "description": "Skill activation triggers for Claude Code. Controls when skills automatically suggest or block actions.",
    "skills": {
        "skill-developer": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Meta-skill for creating and managing Claude Code skills",
            "promptTriggers": {
                "keywords": [
                    "skill system",
                    "create skill",
                    "add skill",
                    "skill triggers",
                    "skill rules",
                    "hook system",
                    "skill development",
                    "skill-rules.json"
                ],
                "intentPatterns": [
                    "(how do|how does|explain).*?skill",
                    "(create|add|modify|build).*?skill",
                    "skill.*?(work|trigger|activate|system)"
                ]
            }
        },
        "frontend-dev-guidelines": {
            "type": "guardrail",
            "enforcement": "block",
            "priority": "high",
            "description": "React/TypeScript best practices including MUI v7 compatibility",
            "promptTriggers": {
                "keywords": [
                    "component",
                    "react component",
                    "UI",
                    "interface",
                    "page",
                    "modal",
                    "dialog",
                    "form",
                    "MUI",
                    "Material-UI",
                    "Grid",
                    "styling",
                    "frontend",
                    "React"
                ],
                "intentPatterns": [
                    "(create|add|make|build|update|modify|edit).*?(component|UI|page|modal|dialog|form)",
                    "(how to|best practice).*?(component|react|MUI)",
                    "(style|design|layout).*?(component|UI)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "THIS_PROJECT_DOES_NOT_USE_REACT/**/*.tsx",
                    "frontend/src/**/*.tsx",
                    "frontend/src/**/*.ts",
                    "client/src/**/*.tsx",
                    "client/src/**/*.ts"
                ],
                "pathExclusions": [
                    "**/*.test.tsx",
                    "**/*.test.ts",
                    "**/*.spec.tsx",
                    "**/*.spec.ts",
                    "**/*.styles.ts",
                    "**/vite.config.ts",
                    "**/tsconfig.json"
                ],
                "contentPatterns": [
                    "from '@mui/material';",
                    "import.*Grid.*from.*@mui",
                    "<Grid ",
                    "Grid2",
                    "Unstable_Grid",
                    "makeStyles",
                    "@material-ui/core"
                ]
            },
            "blockMessage": "âš ï¸ BLOCKED - Frontend Best Practices Required\n\nðŸ“‹ REQUIRED ACTION:\n1. Use Skill tool: 'frontend-dev-guidelines'\n2. Review MUI v7 patterns (Grid uses size={{}} prop, NOT xs/sm props)\n3. Check React/TypeScript best practices\n4. Use proper styling patterns\n5. Then retry this edit\n\nReason: Enforce MUI v7 compatibility and React best practices\nFile: {file_path}\n\nðŸ’¡ TIP: Add '// @skip-validation' comment to skip future checks",
            "skipConditions": {
                "sessionSkillUsed": true,
                "fileMarkers": [
                    "@skip-validation"
                ],
                "envOverride": "SKIP_FRONTEND_GUIDELINES"
            }
        },
        "eds-block-development": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "EDS block development using vanilla JavaScript, Content Driven Development, and block decoration patterns",
            "promptTriggers": {
                "keywords": [
                    "block",
                    "create block",
                    "new block",
                    "block development",
                    "decorate function",
                    "block decoration",
                    "EDS block",
                    "block structure",
                    "block content",
                    "block wrapper"
                ],
                "intentPatterns": [
                    "(create|add|build|make).*?block",
                    "(modify|update|edit).*?block",
                    "(how to|how do I).*?block",
                    "block.*?(work|structure|pattern)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "blocks/**/*.js",
                    "blocks/**/*.css"
                ],
                "pathExclusions": [
                    "**/test.html",
                    "**/test-*.js"
                ],
                "contentPatterns": [
                    "export default function decorate",
                    "function decorate\\(block\\)",
                    "\\.block-"
                ]
            }
        },
        "eds-block-testing": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Testing EDS blocks using test.html files and development server",
            "promptTriggers": {
                "keywords": [
                    "test block",
                    "testing",
                    "test.html",
                    "debug block",
                    "block testing",
                    "test file",
                    "development server"
                ],
                "intentPatterns": [
                    "(test|debug|verify).*?block",
                    "(how to|how do I).*?test.*?block",
                    "test.*?file"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "blocks/**/test.html",
                    "**/test-*.html"
                ],
                "contentPatterns": [
                    "loadBlock\\(",
                    "sampleRUM\\(",
                    "from.*aem\\.js"
                ]
            }
        },
        "eds-performance-debugging": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "medium",
            "description": "Debugging and performance optimization for EDS blocks including error handling and Core Web Vitals",
            "promptTriggers": {
                "keywords": [
                    "error",
                    "debug",
                    "performance",
                    "slow",
                    "FOUC",
                    "Core Web Vitals",
                    "optimization",
                    "console.error"
                ],
                "intentPatterns": [
                    "(fix|debug|handle).*?error",
                    "(improve|optimize).*?performance",
                    "(eliminate|prevent).*?FOUC"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "blocks/**/*.js",
                    "scripts/**/*.js"
                ],
                "contentPatterns": [
                    "console\\.error",
                    "try \\{",
                    "catch \\(error\\)"
                ]
            }
        }
    },
    "notes": {
        "enforcement_types": {
            "suggest": "Skill suggestion appears but doesn't block execution",
            "block": "Requires skill to be used before proceeding (guardrail)",
            "warn": "Shows warning but allows proceeding"
        },
        "priority_levels": {
            "critical": "Highest - Always trigger when matched",
            "high": "Important - Trigger for most matches",
            "medium": "Moderate - Trigger for clear matches",
            "low": "Optional - Trigger only for explicit matches"
        },
        "customization": {
            "pathPatterns": "Updated for EDS project: blocks/, scripts/, tools/, build/",
            "keywords": "Add domain-specific terms relevant to your project",
            "intentPatterns": "Use regex for flexible user intent matching",
            "project_type": "Adobe Edge Delivery Services (EDS) - vanilla JavaScript, no React"
        }
    }
}
